<!DOCTYPE html>
<!-- saved from url=(0049)http://dc-js.github.io/dc.js/examples/series.html -->
<html lang="en" hola_ext_inject="disabled"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>dc.js - Series Example</title>
    
    <link rel="stylesheet" type="text/css" href="./series_files/dc.css">
</head>
<body>

<div id="test" class="dc-chart"><svg width="768" height="480"><g><g class="chart-body" transform="translate(82, 10)" clip-path="url(#test-clip)"></g><g class="sub _0"><g class="chart-body" transform="translate(82, 10)" clip-path="url(#test-clip)"><g class="stack-list"><g class="stack _0"><path class="line" stroke="#1f77b4" d="M31.8,165L37.1,178.83333333333331C42.4,192.66666666666666,53,220.33333333333331,63.599999999999994,214.16666666666666C74.19999999999999,207.99999999999997,84.8,168,95.39999999999999,126.66666666666666C106,85.33333333333333,116.6,42.666666666666664,127.19999999999999,38.83333333333333C137.8,35,148.4,70,159,97.5C169.6,125,180.2,145,190.79999999999998,142.5C201.39999999999998,140,211.99999999999997,115,222.6,98.83333333333333C233.2,82.66666666666666,243.79999999999998,75.33333333333333,254.39999999999998,71.66666666666666C265,68,275.59999999999997,68,286.2,80.49999999999999C296.79999999999995,93,307.4,118,318,115.49999999999999C328.6,113,339.2,83,349.79999999999995,70.49999999999999C360.4,57.99999999999999,371,62.99999999999999,381.6,71.66666666666666C392.2,80.33333333333333,402.8,92.66666666666666,413.40000000000003,133.83333333333331C424,175,434.59999999999997,245,445.19999999999993,266.3333333333333C455.79999999999995,287.66666666666663,466.4,260.3333333333333,477,240.33333333333331C487.6,220.33333333333331,498.2,207.66666666666666,508.79999999999995,177.66666666666666C519.4,147.66666666666666,530,100.33333333333333,540.6,76.66666666666666C551.1999999999999,52.99999999999999,561.8,52.99999999999999,572.3999999999999,57.999999999999986C583,62.99999999999999,593.5999999999999,73,604.1999999999999,77.99999999999999C614.8,83,625.4,83,630.7,82.99999999999999L636,83"></path></g></g><g class="dc-tooltip-list"><g class="dc-tooltip _0"><path class="yRef" stroke-dasharray="5,5" style="display: none;"></path><path class="xRef" stroke-dasharray="5,5" style="display: none;"></path><circle class="dot" r="5" cx="31.8" cy="165" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>1: 350</title></circle><circle class="dot" r="5" cx="63.6" cy="248" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>2: 240</title></circle><circle class="dot" r="5" cx="95.39999999999999" cy="128" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>3: 400</title></circle><circle class="dot" r="5" cx="127.2" cy="0" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>4: 570</title></circle><circle class="dot" r="5" cx="159" cy="105" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>5: 430</title></circle><circle class="dot" r="5" cx="190.79999999999998" cy="165" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>6: 350</title></circle><circle class="dot" r="5" cx="222.6" cy="90" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>7: 450</title></circle><circle class="dot" r="5" cx="254.4" cy="68" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>8: 480</title></circle><circle class="dot" r="5" cx="286.2" cy="68" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>9: 480</title></circle><circle class="dot" r="5" cx="318" cy="143" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>10: 380</title></circle><circle class="dot" r="5" cx="349.8" cy="53" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>11: 500</title></circle><circle class="dot" r="5" cx="381.59999999999997" cy="68" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>12: 480</title></circle><circle class="dot" r="5" cx="413.40000000000003" cy="105" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>13: 430</title></circle><circle class="dot" r="5" cx="445.2" cy="315" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>14: 150</title></circle><circle class="dot" r="5" cx="477" cy="233" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>15: 260</title></circle><circle class="dot" r="5" cx="508.8" cy="195" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>16: 310</title></circle><circle class="dot" r="5" cx="540.6" cy="53" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>17: 500</title></circle><circle class="dot" r="5" cx="572.4" cy="53" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>18: 500</title></circle><circle class="dot" r="5" cx="604.1999999999999" cy="83" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>19: 460</title></circle><circle class="dot" r="5" cx="636" cy="83" fill="#1f77b4" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>20: 460</title></circle></g></g></g></g><g class="sub _1"><g class="chart-body" transform="translate(82, 10)" clip-path="url(#test-clip)"><g class="stack-list"><g class="stack _0"><path class="line" stroke="#ff7f0e" d="M31.8,83L37.1,85.49999999999999C42.4,88,53,93,63.599999999999994,92.99999999999999C74.19999999999999,93,84.8,88,95.39999999999999,87.99999999999999C106,88,116.6,93,127.19999999999999,102.99999999999999C137.8,113,148.4,128,159,145.5C169.6,163,180.2,182.99999999999997,190.79999999999998,186.66666666666666C201.39999999999998,190.33333333333331,211.99999999999997,177.66666666666666,222.6,167.66666666666666C233.2,157.66666666666666,243.79999999999998,150.33333333333331,254.39999999999998,144.16666666666666C265,138,275.59999999999997,133,286.2,138C296.79999999999995,143,307.4,158,318,166.66666666666666C328.6,175.33333333333331,339.2,177.66666666666666,349.79999999999995,183.83333333333334C360.4,190,371,200,381.6,202.5C392.2,205,402.8,200,413.40000000000003,188.83333333333334C424,177.66666666666666,434.59999999999997,160.33333333333331,445.19999999999993,151.66666666666666C455.79999999999995,143,466.4,143,477,149.16666666666666C487.6,155.33333333333331,498.2,167.66666666666666,508.79999999999995,177.66666666666669C519.4,187.66666666666666,530,195.33333333333331,540.6,200.33333333333331C551.1999999999999,205.33333333333331,561.8,207.66666666666666,572.3999999999999,212.66666666666663C583,217.66666666666666,593.5999999999999,225.33333333333331,604.1999999999999,224.16666666666663C614.8,222.99999999999997,625.4,212.99999999999997,630.7,207.99999999999994L636,203"></path></g></g><g class="dc-tooltip-list"><g class="dc-tooltip _0"><path class="yRef" stroke-dasharray="5,5" style="display: none;"></path><path class="xRef" stroke-dasharray="5,5" style="display: none;"></path><circle class="dot" r="5" cx="31.8" cy="83" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>1: 460</title></circle><circle class="dot" r="5" cx="63.6" cy="98" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>2: 440</title></circle><circle class="dot" r="5" cx="95.39999999999999" cy="83" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>3: 460</title></circle><circle class="dot" r="5" cx="127.2" cy="98" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>4: 440</title></circle><circle class="dot" r="5" cx="159" cy="143" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>5: 380</title></circle><circle class="dot" r="5" cx="190.79999999999998" cy="203" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>6: 300</title></circle><circle class="dot" r="5" cx="222.6" cy="165" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>7: 350</title></circle><circle class="dot" r="5" cx="254.4" cy="143" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>8: 380</title></circle><circle class="dot" r="5" cx="286.2" cy="128" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>9: 400</title></circle><circle class="dot" r="5" cx="318" cy="173" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>10: 340</title></circle><circle class="dot" r="5" cx="349.8" cy="180" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>11: 330</title></circle><circle class="dot" r="5" cx="381.59999999999997" cy="210" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>12: 290</title></circle><circle class="dot" r="5" cx="413.40000000000003" cy="195" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>13: 310</title></circle><circle class="dot" r="5" cx="445.2" cy="143" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>14: 380</title></circle><circle class="dot" r="5" cx="477" cy="143" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>15: 380</title></circle><circle class="dot" r="5" cx="508.8" cy="180" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>16: 330</title></circle><circle class="dot" r="5" cx="540.6" cy="203" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>17: 300</title></circle><circle class="dot" r="5" cx="572.4" cy="210" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>18: 290</title></circle><circle class="dot" r="5" cx="604.1999999999999" cy="233" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>19: 260</title></circle><circle class="dot" r="5" cx="636" cy="203" fill="#ff7f0e" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>20: 300</title></circle></g></g></g></g><g class="sub _2"><g class="chart-body" transform="translate(82, 10)" clip-path="url(#test-clip)"><g class="stack-list"><g class="stack _0"><path class="line" stroke="#2ca02c" d="M31.8,143L37.1,143C42.4,143,53,143,63.599999999999994,143C74.19999999999999,143,84.8,143,95.39999999999999,145.5C106,148,116.6,153,127.19999999999999,173C137.8,193,148.4,227.99999999999997,159,245.5C169.6,263,180.2,263,190.79999999999998,275.49999999999994C201.39999999999998,288,211.99999999999997,313,222.6,295.49999999999994C233.2,278,243.79999999999998,218,254.39999999999998,174.16666666666666C265,130.33333333333331,275.59999999999997,102.66666666666666,286.2,91.33333333333333C296.79999999999995,80,307.4,85,318,96.33333333333333C328.6,107.66666666666666,339.2,125.33333333333333,349.79999999999995,130.33333333333331C360.4,135.33333333333331,371,127.66666666666666,381.6,131.33333333333331C392.2,135,402.8,150,413.40000000000003,155C424,160,434.59999999999997,155,445.19999999999993,156.33333333333334C455.79999999999995,157.66666666666666,466.4,165.33333333333331,477,169.16666666666666C487.6,173,498.2,173,508.79999999999995,171.66666666666666C519.4,170.33333333333331,530,167.66666666666666,540.6,167.66666666666669C551.1999999999999,167.66666666666666,561.8,170.33333333333331,572.3999999999999,171.66666666666666C583,173,593.5999999999999,173,604.1999999999999,173C614.8,173,625.4,173,630.7,173L636,173"></path></g></g><g class="dc-tooltip-list"><g class="dc-tooltip _0"><path class="yRef" stroke-dasharray="5,5" style="display: none;"></path><path class="xRef" stroke-dasharray="5,5" style="display: none;"></path><circle class="dot" r="5" cx="31.8" cy="143" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>1: 380</title></circle><circle class="dot" r="5" cx="63.6" cy="143" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>2: 380</title></circle><circle class="dot" r="5" cx="95.39999999999999" cy="143" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>3: 380</title></circle><circle class="dot" r="5" cx="127.2" cy="158" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>4: 360</title></circle><circle class="dot" r="5" cx="159" cy="263" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>5: 220</title></circle><circle class="dot" r="5" cx="190.79999999999998" cy="263" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>6: 220</title></circle><circle class="dot" r="5" cx="222.6" cy="338" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>7: 120</title></circle><circle class="dot" r="5" cx="254.4" cy="158" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>8: 360</title></circle><circle class="dot" r="5" cx="286.2" cy="75" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>9: 470</title></circle><circle class="dot" r="5" cx="318" cy="90" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>10: 450</title></circle><circle class="dot" r="5" cx="349.8" cy="143" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>11: 380</title></circle><circle class="dot" r="5" cx="381.59999999999997" cy="120" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>12: 410</title></circle><circle class="dot" r="5" cx="413.40000000000003" cy="165" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>13: 350</title></circle><circle class="dot" r="5" cx="445.2" cy="150" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>14: 370</title></circle><circle class="dot" r="5" cx="477" cy="173" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>15: 340</title></circle><circle class="dot" r="5" cx="508.8" cy="173" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>16: 340</title></circle><circle class="dot" r="5" cx="540.6" cy="165" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>17: 350</title></circle><circle class="dot" r="5" cx="572.4" cy="173" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>18: 340</title></circle><circle class="dot" r="5" cx="604.1999999999999" cy="173" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>19: 340</title></circle><circle class="dot" r="5" cx="636" cy="173" fill="#2ca02c" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>20: 340</title></circle></g></g></g></g><g class="sub _3"><g class="chart-body" transform="translate(82, 10)" clip-path="url(#test-clip)"><g class="stack-list"><g class="stack _0"><path class="line" stroke="#d62728" d="M31.8,135L37.1,145C42.4,155,53,175,63.599999999999994,185C74.19999999999999,195,84.8,195,95.39999999999999,193.83333333333334C106,192.66666666666666,116.6,190.33333333333331,127.19999999999999,191.66666666666663C137.8,193,148.4,197.99999999999997,159,204.16666666666666C169.6,210.33333333333331,180.2,217.66666666666666,190.79999999999998,222.66666666666663C201.39999999999998,227.66666666666666,211.99999999999997,230.33333333333331,222.6,234.16666666666663C233.2,237.99999999999997,243.79999999999998,242.99999999999997,254.39999999999998,244.16666666666663C265,245.33333333333331,275.59999999999997,242.66666666666666,286.2,240.16666666666663C296.79999999999995,237.66666666666666,307.4,235.33333333333331,318,215.33333333333331C328.6,195.33333333333331,339.2,157.66666666666666,349.79999999999995,137.66666666666666C360.4,117.66666666666666,371,115.33333333333333,381.6,117.83333333333333C392.2,120.33333333333333,402.8,127.66666666666666,413.40000000000003,135.16666666666666C424,142.66666666666666,434.59999999999997,150.33333333333331,445.19999999999993,151.66666666666666C455.79999999999995,153,466.4,148,477,165.5C487.6,183,498.2,222.99999999999997,508.79999999999995,228C519.4,232.99999999999997,530,203,540.6,186.66666666666666C551.1999999999999,170.33333333333331,561.8,167.66666666666666,572.3999999999999,166.33333333333334C583,165,593.5999999999999,165,604.1999999999999,173.83333333333331C614.8,182.66666666666666,625.4,200.33333333333331,630.7,209.16666666666663L636,218"></path></g></g><g class="dc-tooltip-list"><g class="dc-tooltip _0"><path class="yRef" stroke-dasharray="5,5" d="M0 218L636 218" style="display: none;"></path><path class="xRef" stroke-dasharray="5,5" d="M636 428L636 218" style="display: none;"></path><circle class="dot" r="5" cx="31.8" cy="135" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>1: 390</title></circle><circle class="dot" r="5" cx="63.6" cy="195" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>2: 310</title></circle><circle class="dot" r="5" cx="95.39999999999999" cy="195" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>3: 310</title></circle><circle class="dot" r="5" cx="127.2" cy="188" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>4: 320</title></circle><circle class="dot" r="5" cx="159" cy="203" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>5: 300</title></circle><circle class="dot" r="5" cx="190.79999999999998" cy="225" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>6: 270</title></circle><circle class="dot" r="5" cx="222.6" cy="233" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>7: 260</title></circle><circle class="dot" r="5" cx="254.4" cy="248" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>8: 240</title></circle><circle class="dot" r="5" cx="286.2" cy="240" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>9: 250</title></circle><circle class="dot" r="5" cx="318" cy="233" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>10: 260</title></circle><circle class="dot" r="5" cx="349.8" cy="120" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>11: 410</title></circle><circle class="dot" r="5" cx="381.59999999999997" cy="113" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>12: 420</title></circle><circle class="dot" r="5" cx="413.40000000000003" cy="135" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>13: 390</title></circle><circle class="dot" r="5" cx="445.2" cy="158" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>14: 360</title></circle><circle class="dot" r="5" cx="477" cy="143" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>15: 380</title></circle><circle class="dot" r="5" cx="508.8" cy="263" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>16: 220</title></circle><circle class="dot" r="5" cx="540.6" cy="173" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>17: 340</title></circle><circle class="dot" r="5" cx="572.4" cy="165" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>18: 350</title></circle><circle class="dot" r="5" cx="604.1999999999999" cy="165" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>19: 350</title></circle><circle class="dot" r="5" cx="636" cy="218" fill="#d62728" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>20: 280</title></circle></g></g></g></g><g class="sub _4"><g class="chart-body" transform="translate(82, 10)" clip-path="url(#test-clip)"><g class="stack-list"><g class="stack _0"><path class="line" stroke="#9467bd" d="M31.8,135L37.1,141.33333333333334C42.4,147.66666666666666,53,160.33333333333331,63.599999999999994,174.16666666666663C74.19999999999999,188,84.8,202.99999999999997,95.39999999999999,206.66666666666666C106,210.33333333333331,116.6,202.66666666666666,127.19999999999999,205.16666666666663C137.8,207.66666666666666,148.4,220.33333333333331,159,220.33333333333331C169.6,220.33333333333331,180.2,207.66666666666666,190.79999999999998,203.83333333333331C201.39999999999998,200,211.99999999999997,205,222.6,205C233.2,205,243.79999999999998,200,254.39999999999998,196.33333333333334C265,192.66666666666666,275.59999999999997,190.33333333333331,286.2,185.33333333333331C296.79999999999995,180.33333333333331,307.4,172.66666666666666,318,166.33333333333334C328.6,160,339.2,155,349.79999999999995,152.5C360.4,150,371,150,381.6,157.5C392.2,165,402.8,180,413.40000000000003,196.33333333333331C424,212.66666666666666,434.59999999999997,230.33333333333331,445.19999999999993,230.33333333333331C455.79999999999995,230.33333333333331,466.4,212.66666666666666,477,187.66666666666666C487.6,162.66666666666666,498.2,130.33333333333331,508.79999999999995,112.83333333333333C519.4,95.33333333333333,530,92.66666666666666,540.6,110.16666666666666C551.1999999999999,127.66666666666666,561.8,165.33333333333331,572.3999999999999,182.83333333333331C583,200.33333333333331,593.5999999999999,197.66666666666666,604.1999999999999,188.83333333333331C614.8,180,625.4,165,630.7,157.5L636,150"></path></g></g><g class="dc-tooltip-list"><g class="dc-tooltip _0"><path class="yRef" stroke-dasharray="5,5" style="display: none;"></path><path class="xRef" stroke-dasharray="5,5" style="display: none;"></path><circle class="dot" r="5" cx="31.8" cy="135" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>1: 390</title></circle><circle class="dot" r="5" cx="63.6" cy="173" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>2: 340</title></circle><circle class="dot" r="5" cx="95.39999999999999" cy="218" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>3: 280</title></circle><circle class="dot" r="5" cx="127.2" cy="195" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>4: 310</title></circle><circle class="dot" r="5" cx="159" cy="233" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>5: 260</title></circle><circle class="dot" r="5" cx="190.79999999999998" cy="195" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>6: 310</title></circle><circle class="dot" r="5" cx="222.6" cy="210" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>7: 290</title></circle><circle class="dot" r="5" cx="254.4" cy="195" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>8: 310</title></circle><circle class="dot" r="5" cx="286.2" cy="188" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>9: 320</title></circle><circle class="dot" r="5" cx="318" cy="165" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>10: 350</title></circle><circle class="dot" r="5" cx="349.8" cy="150" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>11: 370</title></circle><circle class="dot" r="5" cx="381.59999999999997" cy="150" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>12: 370</title></circle><circle class="dot" r="5" cx="413.40000000000003" cy="195" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>13: 310</title></circle><circle class="dot" r="5" cx="445.2" cy="248" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>14: 240</title></circle><circle class="dot" r="5" cx="477" cy="195" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>15: 310</title></circle><circle class="dot" r="5" cx="508.8" cy="98" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>16: 440</title></circle><circle class="dot" r="5" cx="540.6" cy="90" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>17: 450</title></circle><circle class="dot" r="5" cx="572.4" cy="203" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>18: 300</title></circle><circle class="dot" r="5" cx="604.1999999999999" cy="195" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>19: 310</title></circle><circle class="dot" r="5" cx="636" cy="150" fill="#9467bd" style="fill-opacity: 1e-06; stroke-opacity: 1e-06;"><title>20: 370</title></circle></g></g></g></g><g class="axis x" transform="translate(82,438)"><g class="tick" transform="translate(0,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">0</text></g><g class="tick" transform="translate(63.6,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">2</text></g><g class="tick" transform="translate(127.2,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">4</text></g><g class="tick" transform="translate(190.79999999999998,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">6</text></g><g class="tick" transform="translate(254.4,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">8</text></g><g class="tick" transform="translate(318,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">10</text></g><g class="tick" transform="translate(381.59999999999997,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">12</text></g><g class="tick" transform="translate(445.2,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">14</text></g><g class="tick" transform="translate(508.8,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">16</text></g><g class="tick" transform="translate(572.4,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">18</text></g><g class="tick" transform="translate(636,0)" style="opacity: 1;"><line y2="6" x2="0"></line><text dy=".71em" y="9" x="0" style="text-anchor: middle;">20</text></g><path class="domain" d="M0,6V0H636V6"></path></g><text class="x-axis-label" transform="translate(400,468)" text-anchor="middle">Run</text><g class="axis y" transform="translate(82,10)"><g class="tick" transform="translate(0,428)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,500</text></g><g class="tick" transform="translate(0,390)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,550</text></g><g class="tick" transform="translate(0,353)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,600</text></g><g class="tick" transform="translate(0,315)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,650</text></g><g class="tick" transform="translate(0,278)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,700</text></g><g class="tick" transform="translate(0,240)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,750</text></g><g class="tick" transform="translate(0,203)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,800</text></g><g class="tick" transform="translate(0,165)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,850</text></g><g class="tick" transform="translate(0,128)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,900</text></g><g class="tick" transform="translate(0,90)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">299,950</text></g><g class="tick" transform="translate(0,53)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">300,000</text></g><g class="tick" transform="translate(0,15)" style="opacity: 1;"><line x2="-6" y2="0"></line><text dy=".32em" x="-9" y="0" style="text-anchor: end;">300,050</text></g><path class="domain" d="M-6,0H0V428H-6"></path></g><text transform="translate(12,224),rotate(-90)" class="y-axis-label y-label" text-anchor="middle">Measured Speed km/s</text></g><defs><clippath id="test-clip"><rect width="656" height="448" transform="translate(-10, -10)"></rect></clippath></defs><g class="dc-legend" transform="translate(350,350)"><g class="dc-legend-item" transform="translate(0,0)"><rect width="13" height="13" fill="#1f77b4"></rect><text x="15" y="10.5">Expt: 1</text></g><g class="dc-legend-item" transform="translate(70,0)"><rect width="13" height="13" fill="#ff7f0e"></rect><text x="15" y="10.5">Expt: 2</text></g><g class="dc-legend-item" transform="translate(0,18)"><rect width="13" height="13" fill="#2ca02c"></rect><text x="15" y="10.5">Expt: 3</text></g><g class="dc-legend-item" transform="translate(70,18)"><rect width="13" height="13" fill="#d62728"></rect><text x="15" y="10.5">Expt: 4</text></g><g class="dc-legend-item" transform="translate(0,36)"><rect width="13" height="13" fill="#9467bd"></rect><text x="15" y="10.5">Expt: 5</text></g></g></svg></div>

<div class="row"> 
	<div class="col-md-6">
		<div id="Ccy-chart" class="dc-chart"> </div>
	</div>

	<div class="col-md-6">
		<div id="Tenor-chart" class="dc-chart"> </div>		
	</div>
</div>

<div class="row">
	<div id="composite-chart" class="dc-chart"></div>
</div>


<button onclick="button1()">1</button>
<button onclick="button2()">2</button>
<button onclick="button3()">3</button>

<script type="text/javascript" src="./series_files/d3.js"></script>
<script type="text/javascript" src="./series_files/crossfilter.js"></script>
<script type="text/javascript" src="./series_files/dc.js"></script>
<script type="text/javascript">

var chart = dc.seriesChart("#test");
var CcyChart = dc.rowChart("#Ccy-chart");
var TenorChart = dc.pieChart("#Tenor-chart");
var ndx, runDimension, runGroup, experiments, ccyDimension,tenorDimension, fwddataset;

var currency, tenor1;

function print_filter(filter){
	var f=eval(filter);
	//see if the filter came back as an array
	if (typeof(f.length) != "undefined") {}else{}//console.log("not an array");

	//see if the filter or group needs to be converted to an array by selecting everything //group
	if (typeof(f.top) != "undefined") {f=f.top(Infinity);}else{}//console.log("not a filter");

	//see if the filter needs a dimension
	if (typeof(f.dimension) != "undefined") {f=f.dimension(function(d) { return "";}).top(Infinity);}else{}//console.log("not a crossfilter");

	console.log(filter+"("+f.length+") = "+JSON.stringify(f).replace("[","[\n\t").replace(/}\,/g,"},\n\t").replace("]","\n]"));//print it out

}


d3.csv("FwdSeries.csv", function(error,data){
	fwddataset=data;	
	fwddataset.forEach(function(d){
		d.Tenor = d[""].substring(d[""].length-2);
		d.CCy = d[""].substring(0,2);
		d.keyCol = d.CCy + d.Tenor;	})	
});


d3.csv("myfile.csv", function(error, data) {

  experiments = data;
  experiments.forEach(function(d){
		d.Tenor = d.Expt.substring(d.Expt.length-2);
		d.Ccy = d.Expt.substring(0,2);
  });
  
  
  tenor1 = "1Y";
  currency = "BP";
  
  ndx = crossfilter(experiments);
  ccyDimension = ndx.dimension(function(d){return d.Ccy}) ;
  ccyDimension.filterExact("BP");
  ccyGroup = ccyDimension.group();
  tenorDimension = ndx.dimension(function(d){return d.Tenor}) ;
  tenorDimension.filterExact("1Y");
  tenorGroup = tenorDimension.group();
  runDimension = ndx.dimension(function(d) {return [d.Expt, +d.Run]; });  
  runGroup = runDimension.group().reduceSum(function(d) { return +d.Speed; });  
  //print_filter(runGroup);
  
  chart
    .width(768)
    .height(480)
    .chart(function(c) { return dc.lineChart(c).interpolate('basis'); })
    .x(d3.scale.linear().domain([0,90]))	
    .brushOn(false)
    .yAxisLabel("Measured Speed km/s")
    .xAxisLabel("Run")
    .clipPadding(10)
	//.yAxisPadding(100)
    .elasticY(true)
    .dimension(runDimension)
    .group(runGroup)
    .mouseZoomable(true)
    .seriesAccessor(function(d) {if(+d.value > 0.0) return ("Expt: " + d.key[0]);})
    .keyAccessor(function(d) {return +d.key[1];})
  //  .valueAccessor(function(d) {return +d.value - 500;})
	.valueAccessor(function(d) {return +d.value;})
    .legend(dc.legend().x(350).y(350).itemHeight(13).gap(5).horizontal(1).legendWidth(240).itemWidth(170));
  //chart.yAxis().tickFormat(function(d) {return d3.format(',d')(d+299500);});
  chart.margins().left += 40;
  
  
  
  
  CcyChart
	.width(180)
	.height(180)
	.margins({top: 20, left: 10, right: 10, bottom: 20})
	.group(ccyGroup)
	.dimension(ccyDimension)
	// Assign colors to each value in the x scale domain
	.ordinalColors(['#3182bd', '#6baed6', '#9ecae1', '#c6dbef', '#dadaeb'])
	.label(function (d) {
		return d.key;
	})	
	.title(function (d) {
		return d.key;
	})
	.elasticX(true)
	.xAxis().ticks(4);	
  
  CcyChart.onClick = function(d) {console.log(d.key); ccyDimension.filterExact(d.key);currency=d.key;plotfwds(d.key, tenor1);dc.renderAll();};
  
  
 TenorChart
	.width(180)
	.height(180)
	.radius(80)
	.innerRadius(30)
	.dimension(tenorDimension)
	.group(tenorGroup); 
  
 TenorChart.onClick = function(d) {console.log(d.key); tenorDimension.filterExact(d.key); tenor1=d.key;plotfwds(currency, d.key);dc.renderAll()};

  dc.renderAll();

});

function load_button(file) {
    return function load_it() {
        d3.csv(file, function(error, experiments) {
            ndx.remove();
            ndx.add(experiments);
            dc.redrawAll();
        });
    };
}

var button1 = load_button("myfile.csv"),
    button2 = load_button("morley2.csv"),
    button3 = load_button("morley3.csv");

	
	
function plotfwds(ccy,tenor)
{
		var cf = crossfilter(fwddataset);
		var curveCCy=cf.dimension(function(p) { return p.CCy; });	
		curveCCy.filter(ccy);
		var curveTenor=cf.dimension(function(p){return p.Tenor;});
		curveTenor.filter(tenor);
		var curveName=cf.dimension(function(p){return p[""];});
		var store1=0, store2=0;
		var dimcount = curveName.top(Infinity).length;				
		curveName.bottom(Infinity).forEach(function(p,i) { 								
						p.x = i;
						p.level=p["89"];
						p.slope =p["89"]-store1;
						//p.convexity = (i==0) ? 0 : store2-p.slope;
						store1=p["89"];
						store2=p.slope;
						//console.log("level=" + p.level + " slope=" + p.slope + " Convexity=" + p.convexity + " Tenor=" + p[""]);
			})
		curveName.bottom(Infinity)[0]["slope"]=curveName.bottom(Infinity)[1]["slope"];
		
		
		curveName.top(Infinity).forEach(function(p,i) { 								
						p.convexity = p.slope - store2;
						store2= p.slope;
						//console.log("level=" + p.level + " slope=" + p.slope + " Convexity=" + p.convexity + " Tenor=" + p[""]);
			});
		curveName.top(Infinity)[0]["convexity"]=curveName.top(Infinity)[1]["convexity"];	
		curveName.bottom(Infinity).forEach(function(p,i) { 								
						console.log("x=" + p.x + " level=" + p.level + " slope=" + p.slope + " Convexity=" + p.convexity + " Tenor=" + p[""] + "extra= " + p.keyCol);
						});
						
	
		var keydim = cf.dimension(function(p){return p.x;});				
		var grp1 = keydim.group().reduce(
		function(p,v){
			p["slope"] = v.slope;
			p["convexity"] = v.convexity;
			p["level"] = v.level;
			++p.count;
			return p;
		},
		function(p,v){
			p["slope"] = v.slope;
			p["convexity"] = v.convexity;
			p["level"] = v.level;
			--p.count;
			return p;
		},
		function(){
			return {count:0,slope:0.0, convexity:0.0,level:0.0};
		});
		
		console.log("Inside Forwards");
		//print_filter(grp1);

		
		
		var compositeChart = dc.compositeChart("#composite-chart", "ABC");

		
		compositeChart
		.width(400)
		.height(350)
		.transitionDuration(1500)
		//.margins({top: 60, right: 50, bottom: 20, left: 10})				
		.x(d3.scale.linear().domain([0,10]))
		.yAxisLabel("The Y Axis")
		.legend(dc.legend().x(30).y(10).itemHeight(10).gap(5))
		.renderHorizontalGridLines(true)
		.xAxis(d3.svg.axis().orient('bottom'))
		.useRightYAxis(true)
		.rightY(d3.scale.linear().domain([0,300]))								
		.compose([
			dc.lineChart(compositeChart)
				.dimension(keydim)
				.group(grp1, "Slope Line")	
				.keyAccessor(function (p) {return p.key;})        
				.valueAccessor(function(p) { return p.value.slope; })
				.x(d3.scale.linear().domain([0,10]))
				.y(d3.scale.linear().domain([0,40]))						
				.colors('red')
				.renderDataPoints(true)
				.clipPadding(10)						
				.dashStyle([2,2]),
			dc.lineChart(compositeChart)
				.dimension(keydim)
				.group(grp1, "Convexity Line")							
				.keyAccessor(function (p) {return p.key;})        
				.valueAccessor(function(p) { return p.value.convexity; })
				.x(d3.scale.linear().domain([0,10]))
				.y(d3.scale.linear().domain([-10,20]))												
				.colors('blue')
				.renderDataPoints(true)
				.clipPadding(10)						
				.dashStyle([5,5]),
			dc.lineChart(compositeChart)
				.dimension(keydim)
				.group(grp1, "Level Line")							
				.useRightYAxis(true)
				.keyAccessor(function (p) {return p.key;})        
				.valueAccessor(function(p) { return p.value.level; })
				.x(d3.scale.linear().domain([0,10]))
				.colors('green')
				.renderDataPoints(true)						
				.clipPadding(10)						
				.dashStyle([10,10])
			])
		.brushOn(false)
		
		dc.renderAll("ABC");
};
				
	
	
	
</script>



</body></html>
